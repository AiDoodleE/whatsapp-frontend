{"ast":null,"code":"var _jsxFileName = \"D:\\\\WP-demo\\\\whatsapp-frontend\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nimport { Box, CssBaseline } from '@mui/material';\nimport { getConversations } from './services/api';\nimport ConversationList from './components/ConversationList';\nimport ChatWindow from './components/ChatWindow';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [conversations, setConversations] = useState([]);\n  const [selectedChat, setSelectedChat] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  useEffect(() => {\n    const loadConversations = async () => {\n      try {\n        setLoading(true);\n        const data = await getConversations();\n        setConversations(data);\n        setError(null);\n      } catch (err) {\n        console.error('Error loading conversations:', err);\n        setError('Failed to load conversations. Please try again later.');\n      } finally {\n        setLoading(false);\n      }\n    };\n    loadConversations();\n  }, []);\n  const handleNewMessage = newMessage => {\n    // Update the last message in the conversations list\n    setConversations(prev => prev.map(conv => conv._id === newMessage.wa_id ? {\n      ...conv,\n      lastMessage: newMessage.text,\n      lastTime: newMessage.timestamp\n    } : conv));\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        height: '100vh'\n      },\n      children: /*#__PURE__*/_jsxDEV(Typography, {\n        children: \"Loading conversations...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this);\n  }\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        height: '100vh',\n        p: 2,\n        textAlign: 'center'\n      },\n      children: /*#__PURE__*/_jsxDEV(Typography, {\n        color: \"error\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      display: 'flex',\n      height: '100vh'\n    },\n    children: [/*#__PURE__*/_jsxDEV(CssBaseline, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ConversationList, {\n      conversations: conversations,\n      onSelectChat: setSelectedChat,\n      selectedId: selectedChat === null || selectedChat === void 0 ? void 0 : selectedChat._id\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this), selectedChat ? /*#__PURE__*/_jsxDEV(ChatWindow, {\n      conversation: selectedChat,\n      onNewMessage: handleNewMessage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        flex: 1,\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        backgroundColor: '#f8f9fa'\n      },\n      children: /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h6\",\n        color: \"text.secondary\",\n        children: \"Select a conversation to start chatting\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 71,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"pVT4P7r+N81tgJASM7DfxWvKjUQ=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["useState","useEffect","Box","CssBaseline","getConversations","ConversationList","ChatWindow","jsxDEV","_jsxDEV","App","_s","conversations","setConversations","selectedChat","setSelectedChat","loading","setLoading","error","setError","loadConversations","data","err","console","handleNewMessage","newMessage","prev","map","conv","_id","wa_id","lastMessage","text","lastTime","timestamp","sx","display","justifyContent","alignItems","height","children","Typography","fileName","_jsxFileName","lineNumber","columnNumber","p","textAlign","color","onSelectChat","selectedId","conversation","onNewMessage","flex","backgroundColor","variant","_c","$RefreshReg$"],"sources":["D:/WP-demo/whatsapp-frontend/src/App.js"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { Box, CssBaseline } from '@mui/material';\nimport { getConversations } from './services/api';\nimport ConversationList from './components/ConversationList';\nimport ChatWindow from './components/ChatWindow';\n\nfunction App() {\n  const [conversations, setConversations] = useState([]);\n  const [selectedChat, setSelectedChat] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    const loadConversations = async () => {\n      try {\n        setLoading(true);\n        const data = await getConversations();\n        setConversations(data);\n        setError(null);\n      } catch (err) {\n        console.error('Error loading conversations:', err);\n        setError('Failed to load conversations. Please try again later.');\n      } finally {\n        setLoading(false);\n      }\n    };\n    \n    loadConversations();\n  }, []);\n\n  const handleNewMessage = (newMessage) => {\n    // Update the last message in the conversations list\n    setConversations(prev => \n      prev.map(conv => \n        conv._id === newMessage.wa_id\n          ? { ...conv, lastMessage: newMessage.text, lastTime: newMessage.timestamp }\n          : conv\n      )\n    );\n  };\n\n  if (loading) {\n    return (\n      <Box sx={{ \n        display: 'flex', \n        justifyContent: 'center', \n        alignItems: 'center', \n        height: '100vh' \n      }}>\n        <Typography>Loading conversations...</Typography>\n      </Box>\n    );\n  }\n\n  if (error) {\n    return (\n      <Box sx={{ \n        display: 'flex', \n        justifyContent: 'center', \n        alignItems: 'center', \n        height: '100vh',\n        p: 2,\n        textAlign: 'center'\n      }}>\n        <Typography color=\"error\">{error}</Typography>\n      </Box>\n    );\n  }\n\n  return (\n    <Box sx={{ display: 'flex', height: '100vh' }}>\n      <CssBaseline />\n      <ConversationList \n        conversations={conversations} \n        onSelectChat={setSelectedChat} \n        selectedId={selectedChat?._id} \n      />\n      {selectedChat ? (\n        <ChatWindow \n          conversation={selectedChat} \n          onNewMessage={handleNewMessage}\n        />\n      ) : (\n        <Box sx={{ \n          flex: 1, \n          display: 'flex', \n          alignItems: 'center', \n          justifyContent: 'center',\n          backgroundColor: '#f8f9fa'\n        }}>\n          <Typography variant=\"h6\" color=\"text.secondary\">\n            Select a conversation to start chatting\n          </Typography>\n        </Box>\n      )}\n    </Box>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}