{"ast":null,"code":"var _jsxFileName = \"D:\\\\WP-demo\\\\whatsapp-frontend\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nimport { Box, CssBaseline, Typography } from '@mui/material';\nimport { getConversations } from './services/api';\nimport ConversationList from './components/ConversationList';\nimport ChatWindow from './components/ChatWindow';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [conversations, setConversations] = useState([]);\n  const [selectedChat, setSelectedChat] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  useEffect(() => {\n    const loadConversations = async () => {\n      try {\n        setLoading(true);\n        const data = await getConversations();\n        setConversations(data);\n        setError(null);\n      } catch (err) {\n        console.error('Error loading conversations:', err);\n        setError('Failed to load conversations. Please try again later.');\n      } finally {\n        setLoading(false);\n      }\n    };\n    loadConversations();\n  }, []);\n  const handleNewMessage = newMessage => {\n    // Update the last message in the conversations list\n    setConversations(prev => prev.map(conv => conv._id === newMessage.wa_id ? {\n      ...conv,\n      lastMessage: newMessage.text,\n      lastTime: newMessage.timestamp\n    } : conv));\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        height: '100vh'\n      },\n      children: /*#__PURE__*/_jsxDEV(Typography, {\n        children: \"Loading conversations...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this);\n  }\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        height: '100vh',\n        p: 2,\n        textAlign: 'center'\n      },\n      children: /*#__PURE__*/_jsxDEV(Typography, {\n        color: \"error\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      display: 'flex',\n      height: '100vh',\n      flexDirection: {\n        xs: 'column',\n        sm: 'row'\n      },\n      overflow: 'hidden'\n    },\n    children: [/*#__PURE__*/_jsxDEV(CssBaseline, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        width: {\n          xs: '100%',\n          sm: '350px'\n        },\n        height: {\n          xs: selectedChat ? '0' : '100%',\n          sm: '100%'\n        },\n        overflow: 'hidden',\n        transition: 'height 0.3s ease',\n        borderRight: {\n          sm: '1px solid #e0e0e0'\n        },\n        flexShrink: 0\n      },\n      children: /*#__PURE__*/_jsxDEV(ConversationList, {\n        conversations: conversations,\n        onSelectChat: setSelectedChat,\n        selectedId: selectedChat === null || selectedChat === void 0 ? void 0 : selectedChat._id\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        flex: 1,\n        display: 'flex',\n        flexDirection: 'column',\n        height: '100%',\n        overflow: 'hidden',\n        position: 'relative',\n        width: {\n          xs: selectedChat ? '100%' : '0',\n          sm: 'auto'\n        },\n        transition: 'width 0.3s ease'\n      },\n      children: selectedChat ? /*#__PURE__*/_jsxDEV(ChatWindow, {\n        conversation: selectedChat,\n        onNewMessage: handleNewMessage,\n        onBack: () => setSelectedChat(null)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          display: {\n            xs: 'none',\n            sm: 'flex'\n          },\n          flex: 1,\n          alignItems: 'center',\n          justifyContent: 'center',\n          backgroundColor: '#f8f9fa'\n        },\n        children: /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h6\",\n          color: \"text.secondary\",\n          children: \"Select a conversation to start chatting\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 71,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"pVT4P7r+N81tgJASM7DfxWvKjUQ=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["useState","useEffect","Box","CssBaseline","Typography","getConversations","ConversationList","ChatWindow","jsxDEV","_jsxDEV","App","_s","conversations","setConversations","selectedChat","setSelectedChat","loading","setLoading","error","setError","loadConversations","data","err","console","handleNewMessage","newMessage","prev","map","conv","_id","wa_id","lastMessage","text","lastTime","timestamp","sx","display","justifyContent","alignItems","height","children","fileName","_jsxFileName","lineNumber","columnNumber","p","textAlign","color","flexDirection","xs","sm","overflow","width","transition","borderRight","flexShrink","onSelectChat","selectedId","flex","position","conversation","onNewMessage","onBack","backgroundColor","variant","_c","$RefreshReg$"],"sources":["D:/WP-demo/whatsapp-frontend/src/App.js"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { Box, CssBaseline, Typography } from '@mui/material';\nimport { getConversations } from './services/api';\nimport ConversationList from './components/ConversationList';\nimport ChatWindow from './components/ChatWindow';\n\nfunction App() {\n  const [conversations, setConversations] = useState([]);\n  const [selectedChat, setSelectedChat] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    const loadConversations = async () => {\n      try {\n        setLoading(true);\n        const data = await getConversations();\n        setConversations(data);\n        setError(null);\n      } catch (err) {\n        console.error('Error loading conversations:', err);\n        setError('Failed to load conversations. Please try again later.');\n      } finally {\n        setLoading(false);\n      }\n    };\n    \n    loadConversations();\n  }, []);\n\n  const handleNewMessage = (newMessage) => {\n    // Update the last message in the conversations list\n    setConversations(prev => \n      prev.map(conv => \n        conv._id === newMessage.wa_id\n          ? { ...conv, lastMessage: newMessage.text, lastTime: newMessage.timestamp }\n          : conv\n      )\n    );\n  };\n\n  if (loading) {\n    return (\n      <Box sx={{ \n        display: 'flex', \n        justifyContent: 'center', \n        alignItems: 'center', \n        height: '100vh' \n      }}>\n        <Typography>Loading conversations...</Typography>\n      </Box>\n    );\n  }\n\n  if (error) {\n    return (\n      <Box sx={{ \n        display: 'flex', \n        justifyContent: 'center', \n        alignItems: 'center', \n        height: '100vh',\n        p: 2,\n        textAlign: 'center'\n      }}>\n        <Typography color=\"error\">{error}</Typography>\n      </Box>\n    );\n  }\n\n  return (\n    <Box sx={{ \n      display: 'flex', \n      height: '100vh',\n      flexDirection: { xs: 'column', sm: 'row' },\n      overflow: 'hidden'\n    }}>\n      <CssBaseline />\n      <Box sx={{\n        width: { xs: '100%', sm: '350px' },\n        height: { xs: selectedChat ? '0' : '100%', sm: '100%' },\n        overflow: 'hidden',\n        transition: 'height 0.3s ease',\n        borderRight: { sm: '1px solid #e0e0e0' },\n        flexShrink: 0\n      }}>\n        <ConversationList \n          conversations={conversations} \n          onSelectChat={setSelectedChat} \n          selectedId={selectedChat?._id} \n        />\n      </Box>\n      \n      <Box sx={{\n        flex: 1,\n        display: 'flex',\n        flexDirection: 'column',\n        height: '100%',\n        overflow: 'hidden',\n        position: 'relative',\n        width: { xs: selectedChat ? '100%' : '0', sm: 'auto' },\n        transition: 'width 0.3s ease'\n      }}>\n        {selectedChat ? (\n          <ChatWindow \n            conversation={selectedChat} \n            onNewMessage={handleNewMessage}\n            onBack={() => setSelectedChat(null)}\n          />\n        ) : (\n          <Box sx={{ \n            display: { xs: 'none', sm: 'flex' },\n            flex: 1, \n            alignItems: 'center', \n            justifyContent: 'center',\n            backgroundColor: '#f8f9fa'\n          }}>\n            <Typography variant=\"h6\" color=\"text.secondary\">\n              Select a conversation to start chatting\n            </Typography>\n          </Box>\n        )}\n      </Box>\n    </Box>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}